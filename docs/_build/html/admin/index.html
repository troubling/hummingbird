

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hummingbird Cluster Health &mdash; Hummingbird v.PR documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/privatecloud.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/bolditalic.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Hummingbird v.PR documentation" href="../index.html"/>
        <link rel="next" title="Ring Managment 101" href="rings.html"/>
        <link rel="prev" title="Hummingbird Architecture" href="../arch/index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Hummingbird
          

          
            
            <img src="../_static/privatecloud.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                v.PR
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Hummingbird</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Hummingbird Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hummingbird Cluster Health</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rings.html">Ring Managment 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#ring-best-practices">Ring Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Hummingbird Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html#metrics-exposed-by-hummingbird-services">Metrics exposed by Hummingbird services</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html#prometheus-grafana-alertmanager-installation">Prometheus, Grafana &amp; Alertmanager Installation.</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivestatus.html">Drive Status Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="async.html">Async Pending Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispersion.html">Dispersion Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="ringmd5.html">MD5 Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="quarantine.html">Quarantine Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="stalledreplicators.html">Stalled Replicators Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="replicationstats.html">Replication Partitions Per Second Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="replicationduration.html">Replication Duration Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="timesync.html">Time Sync Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="replication-tools.html">Hummingbird Priority Replication Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug-single.html">Debugging a single account, container, or object</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">So You Want to Deploy Hummingbird</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Hummingbird Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Hummingbird</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Hummingbird Cluster Health</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/admin/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hummingbird-cluster-health">
<h1>Hummingbird Cluster Health<a class="headerlink" href="#hummingbird-cluster-health" title="Permalink to this headline">#</a></h1>
<p>The andrewd service as well as the recon tool monitor the overall cluster health. Andrewd is more of a background, automated process that should be run on one server (often called the admin server) whereas the recon tool is more interactive, often also run on the admin server since it can read information from the andrewd database.</p>
<p>Andrewd will initially populate “dispersion objects” and containers into the clusters within a hidden .admin account. These dispersion objects land, one each, on all ring partitions throughout the cluster. After these dispersion objects are in place, andrewd can check for their presence on a recurring schedule and make note of when they are out of place, missing replicas, etc. For example, 1 of 3 replicas being out of place is a common occurrence as a cluster rebalances itself, but 2 of 3 or worse all 3 replicas being out of place can cause temporary errors until rebalancing is performed. Andrewd can prioritize replication based on this information.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="rings.html">Ring Managment 101</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rings.html#ring-overview">Ring Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#ring-creation">Ring Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#adding-devices">Adding Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#rebalancing-the-ring">Rebalancing the Ring</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rings.html#ring-best-practices">Ring Best Practices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rings.html#creating-the-initial-rings">Creating the Initial Rings</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#handling-a-device-failure">Handling a Device failure</a></li>
<li class="toctree-l2"><a class="reference internal" href="rings.html#adding-or-removing-large-numbers-of-devices">Adding or Removing Large Numbers of Devices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Hummingbird Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html#metrics-exposed-by-hummingbird-services">Metrics exposed by Hummingbird services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html#hummingbird-specific-metrics">Hummingbird specific metrics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html#prometheus-grafana-alertmanager-installation">Prometheus, Grafana &amp; Alertmanager Installation.</a></li>
<li class="toctree-l1"><a class="reference internal" href="drivestatus.html">Drive Status Report</a><ul>
<li class="toctree-l2"><a class="reference internal" href="drivestatus.html#drive-failures">Drive Failures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="async.html">Async Pending Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="dispersion.html">Dispersion Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="ringmd5.html">MD5 Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="quarantine.html">Quarantine Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="stalledreplicators.html">Stalled Replicators Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="replicationstats.html">Replication Partitions Per Second Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="replicationduration.html">Replication Duration Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="timesync.html">Time Sync Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="replication-tools.html">Hummingbird Priority Replication Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="replication-tools.html#hummingbird-nodes-p-partition">hummingbird nodes -p &lt;partition&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="replication-tools.html#moveparts">moveparts</a></li>
<li class="toctree-l2"><a class="reference internal" href="replication-tools.html#restoredevice">restoredevice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="debug-single.html">Debugging a single account, container, or object</a></li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rings.html" class="btn btn-neutral float-right" title="Ring Managment 101" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../arch/index.html" class="btn btn-neutral" title="Hummingbird Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Rackspace.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v.PR',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>